<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模块化历程 | 五年前端三年面试</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?ba0bbc21ba293c7cf67f60c2d4889ee5";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
          </script>
    <meta name="description" content="前端知识地图">
    <meta name="robots" content="all">
    <meta name="author" content="johan">
    <meta name="keywords" content="jahan johnnyjoestar azhubaby js react webpack babel browser html css jquery git http docker weapp wxapp flutter RN designPattern cssbasic about JavaScript学习路线 JavaScript知识体系 React框架 前端的一切 前端面试 知识体系 前端工程化 大前端">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.2ef34e86.css" as="style"><link rel="preload" href="/assets/js/app.ef9d35bd.js" as="script"><link rel="preload" href="/assets/js/2.e1bdf339.js" as="script"><link rel="preload" href="/assets/js/128.15652faf.js" as="script"><link rel="prefetch" href="/assets/js/10.3d41901d.js"><link rel="prefetch" href="/assets/js/100.507e9466.js"><link rel="prefetch" href="/assets/js/101.0f09bec5.js"><link rel="prefetch" href="/assets/js/102.450280dc.js"><link rel="prefetch" href="/assets/js/103.ccf30a8f.js"><link rel="prefetch" href="/assets/js/104.13142748.js"><link rel="prefetch" href="/assets/js/105.042b21fc.js"><link rel="prefetch" href="/assets/js/106.c2220f74.js"><link rel="prefetch" href="/assets/js/107.83629a47.js"><link rel="prefetch" href="/assets/js/108.a76eb872.js"><link rel="prefetch" href="/assets/js/109.bdcb62f0.js"><link rel="prefetch" href="/assets/js/11.af7e5b92.js"><link rel="prefetch" href="/assets/js/110.109255dc.js"><link rel="prefetch" href="/assets/js/111.32929fee.js"><link rel="prefetch" href="/assets/js/112.099b9b0e.js"><link rel="prefetch" href="/assets/js/113.b2741a79.js"><link rel="prefetch" href="/assets/js/114.fed00d7a.js"><link rel="prefetch" href="/assets/js/115.51bb1e16.js"><link rel="prefetch" href="/assets/js/116.08c784c2.js"><link rel="prefetch" href="/assets/js/117.70a718ca.js"><link rel="prefetch" href="/assets/js/118.0900c81b.js"><link rel="prefetch" href="/assets/js/119.cbbc59c6.js"><link rel="prefetch" href="/assets/js/12.bc6bdb5f.js"><link rel="prefetch" href="/assets/js/120.19e901ca.js"><link rel="prefetch" href="/assets/js/121.650baa2c.js"><link rel="prefetch" href="/assets/js/122.bf335119.js"><link rel="prefetch" href="/assets/js/123.71ef2cfe.js"><link rel="prefetch" href="/assets/js/124.f11d194d.js"><link rel="prefetch" href="/assets/js/125.3d8cf898.js"><link rel="prefetch" href="/assets/js/126.f240b37b.js"><link rel="prefetch" href="/assets/js/127.151a57ab.js"><link rel="prefetch" href="/assets/js/129.d9eefee0.js"><link rel="prefetch" href="/assets/js/13.4043de3e.js"><link rel="prefetch" href="/assets/js/130.1e7f4d71.js"><link rel="prefetch" href="/assets/js/131.5e873226.js"><link rel="prefetch" href="/assets/js/132.be45912b.js"><link rel="prefetch" href="/assets/js/133.222788d2.js"><link rel="prefetch" href="/assets/js/134.40b2bd0a.js"><link rel="prefetch" href="/assets/js/135.e2364b2b.js"><link rel="prefetch" href="/assets/js/136.67bfbb47.js"><link rel="prefetch" href="/assets/js/137.8ba12a2f.js"><link rel="prefetch" href="/assets/js/138.612a5a5f.js"><link rel="prefetch" href="/assets/js/139.990dee41.js"><link rel="prefetch" href="/assets/js/14.1ea07c01.js"><link rel="prefetch" href="/assets/js/140.93c69cb7.js"><link rel="prefetch" href="/assets/js/141.7832dae2.js"><link rel="prefetch" href="/assets/js/142.57b00d9a.js"><link rel="prefetch" href="/assets/js/143.eee9bda8.js"><link rel="prefetch" href="/assets/js/144.cae93907.js"><link rel="prefetch" href="/assets/js/145.0d3824f3.js"><link rel="prefetch" href="/assets/js/146.c6e772f8.js"><link rel="prefetch" href="/assets/js/147.005e8b4e.js"><link rel="prefetch" href="/assets/js/148.64fbd2cc.js"><link rel="prefetch" href="/assets/js/149.ca8875f4.js"><link rel="prefetch" href="/assets/js/15.ed1a5e6b.js"><link rel="prefetch" href="/assets/js/150.5640293a.js"><link rel="prefetch" href="/assets/js/151.41b60dd2.js"><link rel="prefetch" href="/assets/js/152.b9a724f7.js"><link rel="prefetch" href="/assets/js/153.ca126d3f.js"><link rel="prefetch" href="/assets/js/154.a4d6a5a9.js"><link rel="prefetch" href="/assets/js/155.8c790db6.js"><link rel="prefetch" href="/assets/js/156.3c956bcf.js"><link rel="prefetch" href="/assets/js/157.0323b9a7.js"><link rel="prefetch" href="/assets/js/158.60f69520.js"><link rel="prefetch" href="/assets/js/159.bbb68514.js"><link rel="prefetch" href="/assets/js/16.b59bc9ab.js"><link rel="prefetch" href="/assets/js/160.137cbf20.js"><link rel="prefetch" href="/assets/js/161.585051f2.js"><link rel="prefetch" href="/assets/js/162.51f8716a.js"><link rel="prefetch" href="/assets/js/163.e2db1048.js"><link rel="prefetch" href="/assets/js/164.3f96e78f.js"><link rel="prefetch" href="/assets/js/165.1e5c4fd3.js"><link rel="prefetch" href="/assets/js/166.63f156e0.js"><link rel="prefetch" href="/assets/js/167.81f6f2ec.js"><link rel="prefetch" href="/assets/js/168.9d19c4fe.js"><link rel="prefetch" href="/assets/js/169.37d8efbc.js"><link rel="prefetch" href="/assets/js/17.d41916be.js"><link rel="prefetch" href="/assets/js/170.70da897f.js"><link rel="prefetch" href="/assets/js/171.71b0a5f7.js"><link rel="prefetch" href="/assets/js/172.262ce91a.js"><link rel="prefetch" href="/assets/js/173.3f57787f.js"><link rel="prefetch" href="/assets/js/174.af3407d1.js"><link rel="prefetch" href="/assets/js/175.a17ac4f9.js"><link rel="prefetch" href="/assets/js/176.0fd60a22.js"><link rel="prefetch" href="/assets/js/177.4c422d27.js"><link rel="prefetch" href="/assets/js/178.8c7e991d.js"><link rel="prefetch" href="/assets/js/179.e6f0a9b7.js"><link rel="prefetch" href="/assets/js/18.4fbf0976.js"><link rel="prefetch" href="/assets/js/180.a4014bfe.js"><link rel="prefetch" href="/assets/js/181.6a375527.js"><link rel="prefetch" href="/assets/js/182.50524e11.js"><link rel="prefetch" href="/assets/js/183.43384392.js"><link rel="prefetch" href="/assets/js/184.ef8f0290.js"><link rel="prefetch" href="/assets/js/185.476ae5ee.js"><link rel="prefetch" href="/assets/js/186.21c5716b.js"><link rel="prefetch" href="/assets/js/187.b8f569d4.js"><link rel="prefetch" href="/assets/js/188.70794795.js"><link rel="prefetch" href="/assets/js/189.e98d8337.js"><link rel="prefetch" href="/assets/js/19.e55b2294.js"><link rel="prefetch" href="/assets/js/190.0b7d192a.js"><link rel="prefetch" href="/assets/js/191.54e45958.js"><link rel="prefetch" href="/assets/js/192.bc4196ec.js"><link rel="prefetch" href="/assets/js/193.96691915.js"><link rel="prefetch" href="/assets/js/194.d629fadb.js"><link rel="prefetch" href="/assets/js/195.ab9c69da.js"><link rel="prefetch" href="/assets/js/196.91d633c7.js"><link rel="prefetch" href="/assets/js/197.1f2807e8.js"><link rel="prefetch" href="/assets/js/198.6e27fb0b.js"><link rel="prefetch" href="/assets/js/199.859686cf.js"><link rel="prefetch" href="/assets/js/20.c4876afa.js"><link rel="prefetch" href="/assets/js/200.c1f6d52a.js"><link rel="prefetch" href="/assets/js/201.36222579.js"><link rel="prefetch" href="/assets/js/202.7e61abc3.js"><link rel="prefetch" href="/assets/js/203.559d58b5.js"><link rel="prefetch" href="/assets/js/204.03d2002d.js"><link rel="prefetch" href="/assets/js/205.0eb41857.js"><link rel="prefetch" href="/assets/js/206.e5eaa745.js"><link rel="prefetch" href="/assets/js/207.33f59629.js"><link rel="prefetch" href="/assets/js/208.2e6b781d.js"><link rel="prefetch" href="/assets/js/209.f2018a64.js"><link rel="prefetch" href="/assets/js/21.898c5f25.js"><link rel="prefetch" href="/assets/js/210.d189cca3.js"><link rel="prefetch" href="/assets/js/211.9d1b2636.js"><link rel="prefetch" href="/assets/js/212.76b2fdd1.js"><link rel="prefetch" href="/assets/js/213.e12b5a4b.js"><link rel="prefetch" href="/assets/js/214.72cbe2fb.js"><link rel="prefetch" href="/assets/js/215.c8ba2382.js"><link rel="prefetch" href="/assets/js/216.96f76959.js"><link rel="prefetch" href="/assets/js/217.68a2fe0a.js"><link rel="prefetch" href="/assets/js/218.9525ad0d.js"><link rel="prefetch" href="/assets/js/219.f98b477c.js"><link rel="prefetch" href="/assets/js/22.a14f904f.js"><link rel="prefetch" href="/assets/js/220.406563bf.js"><link rel="prefetch" href="/assets/js/221.9705676d.js"><link rel="prefetch" href="/assets/js/222.ba9b7927.js"><link rel="prefetch" href="/assets/js/223.a8f698fd.js"><link rel="prefetch" href="/assets/js/224.3c51c151.js"><link rel="prefetch" href="/assets/js/225.a5915759.js"><link rel="prefetch" href="/assets/js/226.4a17e78f.js"><link rel="prefetch" href="/assets/js/227.9c4fb3a8.js"><link rel="prefetch" href="/assets/js/228.450c703a.js"><link rel="prefetch" href="/assets/js/229.73479ff1.js"><link rel="prefetch" href="/assets/js/23.a7f6c377.js"><link rel="prefetch" href="/assets/js/230.94856624.js"><link rel="prefetch" href="/assets/js/231.193d811c.js"><link rel="prefetch" href="/assets/js/232.1fc7497f.js"><link rel="prefetch" href="/assets/js/233.33fe83dd.js"><link rel="prefetch" href="/assets/js/234.f62959d3.js"><link rel="prefetch" href="/assets/js/235.61b11ce7.js"><link rel="prefetch" href="/assets/js/236.bbbcba04.js"><link rel="prefetch" href="/assets/js/237.c7933942.js"><link rel="prefetch" href="/assets/js/238.89f7d906.js"><link rel="prefetch" href="/assets/js/239.4212ba93.js"><link rel="prefetch" href="/assets/js/24.888d3e1e.js"><link rel="prefetch" href="/assets/js/240.cb96c2f7.js"><link rel="prefetch" href="/assets/js/241.857201e9.js"><link rel="prefetch" href="/assets/js/242.df52ec5b.js"><link rel="prefetch" href="/assets/js/243.929eed31.js"><link rel="prefetch" href="/assets/js/244.d1717da6.js"><link rel="prefetch" href="/assets/js/245.99937480.js"><link rel="prefetch" href="/assets/js/246.4cce0bd2.js"><link rel="prefetch" href="/assets/js/247.a4ad0b2a.js"><link rel="prefetch" href="/assets/js/248.be37f85e.js"><link rel="prefetch" href="/assets/js/249.63943607.js"><link rel="prefetch" href="/assets/js/25.f7e80758.js"><link rel="prefetch" href="/assets/js/250.2c76ccbd.js"><link rel="prefetch" href="/assets/js/251.238057af.js"><link rel="prefetch" href="/assets/js/252.bef0f088.js"><link rel="prefetch" href="/assets/js/253.8f80aea3.js"><link rel="prefetch" href="/assets/js/254.5cc0989d.js"><link rel="prefetch" href="/assets/js/255.9fe74df0.js"><link rel="prefetch" href="/assets/js/256.22ba1957.js"><link rel="prefetch" href="/assets/js/257.e97dce77.js"><link rel="prefetch" href="/assets/js/258.4314d86c.js"><link rel="prefetch" href="/assets/js/259.ac84feb1.js"><link rel="prefetch" href="/assets/js/26.d1a90f3f.js"><link rel="prefetch" href="/assets/js/260.f21e69c7.js"><link rel="prefetch" href="/assets/js/261.40f56531.js"><link rel="prefetch" href="/assets/js/262.458cb8f0.js"><link rel="prefetch" href="/assets/js/263.3bf7b9b1.js"><link rel="prefetch" href="/assets/js/264.870f9475.js"><link rel="prefetch" href="/assets/js/265.9ce46c11.js"><link rel="prefetch" href="/assets/js/266.72960386.js"><link rel="prefetch" href="/assets/js/267.b7bb1562.js"><link rel="prefetch" href="/assets/js/268.a84bdaca.js"><link rel="prefetch" href="/assets/js/269.808c34f8.js"><link rel="prefetch" href="/assets/js/27.e85c0962.js"><link rel="prefetch" href="/assets/js/270.9db7450b.js"><link rel="prefetch" href="/assets/js/271.1e477572.js"><link rel="prefetch" href="/assets/js/272.4c87e510.js"><link rel="prefetch" href="/assets/js/273.e9e6d349.js"><link rel="prefetch" href="/assets/js/274.2e7e58dd.js"><link rel="prefetch" href="/assets/js/275.3103bb7d.js"><link rel="prefetch" href="/assets/js/276.3f8aab4d.js"><link rel="prefetch" href="/assets/js/277.bfecb932.js"><link rel="prefetch" href="/assets/js/278.b41dbb75.js"><link rel="prefetch" href="/assets/js/279.e688b416.js"><link rel="prefetch" href="/assets/js/28.61e69532.js"><link rel="prefetch" href="/assets/js/280.f6a76aba.js"><link rel="prefetch" href="/assets/js/281.6f161636.js"><link rel="prefetch" href="/assets/js/282.51fd322c.js"><link rel="prefetch" href="/assets/js/283.56442225.js"><link rel="prefetch" href="/assets/js/284.a344bdb5.js"><link rel="prefetch" href="/assets/js/285.35574c84.js"><link rel="prefetch" href="/assets/js/286.d46f2394.js"><link rel="prefetch" href="/assets/js/287.0fd17033.js"><link rel="prefetch" href="/assets/js/288.f003875b.js"><link rel="prefetch" href="/assets/js/289.629f65ec.js"><link rel="prefetch" href="/assets/js/29.a2a57baa.js"><link rel="prefetch" href="/assets/js/290.ef6ddaf5.js"><link rel="prefetch" href="/assets/js/291.0e845d37.js"><link rel="prefetch" href="/assets/js/292.640da594.js"><link rel="prefetch" href="/assets/js/293.3ae03be0.js"><link rel="prefetch" href="/assets/js/294.a654ccb7.js"><link rel="prefetch" href="/assets/js/295.5513b632.js"><link rel="prefetch" href="/assets/js/296.e4104532.js"><link rel="prefetch" href="/assets/js/297.21070b93.js"><link rel="prefetch" href="/assets/js/298.dbc5b754.js"><link rel="prefetch" href="/assets/js/299.0aea197d.js"><link rel="prefetch" href="/assets/js/3.401e6c44.js"><link rel="prefetch" href="/assets/js/30.52001783.js"><link rel="prefetch" href="/assets/js/300.1f21f9df.js"><link rel="prefetch" href="/assets/js/301.daf34ee7.js"><link rel="prefetch" href="/assets/js/302.a248ddfd.js"><link rel="prefetch" href="/assets/js/303.441240e2.js"><link rel="prefetch" href="/assets/js/304.2e4c5798.js"><link rel="prefetch" href="/assets/js/305.3e1e0d29.js"><link rel="prefetch" href="/assets/js/306.55e6ed2b.js"><link rel="prefetch" href="/assets/js/307.53db363e.js"><link rel="prefetch" href="/assets/js/308.c6a52cbf.js"><link rel="prefetch" href="/assets/js/309.c2b1fc5b.js"><link rel="prefetch" href="/assets/js/31.c8e71192.js"><link rel="prefetch" href="/assets/js/310.13df495d.js"><link rel="prefetch" href="/assets/js/311.0ef37d7e.js"><link rel="prefetch" href="/assets/js/312.a14bd79f.js"><link rel="prefetch" href="/assets/js/313.4fbea31f.js"><link rel="prefetch" href="/assets/js/314.21e26670.js"><link rel="prefetch" href="/assets/js/315.aab48380.js"><link rel="prefetch" href="/assets/js/316.c3213fe9.js"><link rel="prefetch" href="/assets/js/317.ecefa6ee.js"><link rel="prefetch" href="/assets/js/318.cdde5bd3.js"><link rel="prefetch" href="/assets/js/319.5ea8bab9.js"><link rel="prefetch" href="/assets/js/32.01eaf4be.js"><link rel="prefetch" href="/assets/js/320.97375bde.js"><link rel="prefetch" href="/assets/js/321.85167226.js"><link rel="prefetch" href="/assets/js/322.b8efbbd6.js"><link rel="prefetch" href="/assets/js/323.8c205320.js"><link rel="prefetch" href="/assets/js/324.514fb663.js"><link rel="prefetch" href="/assets/js/325.a8557ed8.js"><link rel="prefetch" href="/assets/js/326.98d98ff3.js"><link rel="prefetch" href="/assets/js/327.1c354d9a.js"><link rel="prefetch" href="/assets/js/328.27cc9f65.js"><link rel="prefetch" href="/assets/js/329.8cf4ce1a.js"><link rel="prefetch" href="/assets/js/33.34736b8a.js"><link rel="prefetch" href="/assets/js/330.f1113fec.js"><link rel="prefetch" href="/assets/js/331.3b6d7238.js"><link rel="prefetch" href="/assets/js/332.6d9cfab5.js"><link rel="prefetch" href="/assets/js/333.271a0dcc.js"><link rel="prefetch" href="/assets/js/334.46a9f606.js"><link rel="prefetch" href="/assets/js/335.7ea75e31.js"><link rel="prefetch" href="/assets/js/336.f2c94806.js"><link rel="prefetch" href="/assets/js/337.31e3e170.js"><link rel="prefetch" href="/assets/js/338.251da9a2.js"><link rel="prefetch" href="/assets/js/339.b834a391.js"><link rel="prefetch" href="/assets/js/34.23e10f90.js"><link rel="prefetch" href="/assets/js/340.05856063.js"><link rel="prefetch" href="/assets/js/341.ea3f89d9.js"><link rel="prefetch" href="/assets/js/342.74fc2f7b.js"><link rel="prefetch" href="/assets/js/343.80895cba.js"><link rel="prefetch" href="/assets/js/344.c05eec87.js"><link rel="prefetch" href="/assets/js/345.ee810eea.js"><link rel="prefetch" href="/assets/js/346.ec135f6f.js"><link rel="prefetch" href="/assets/js/347.adb805d0.js"><link rel="prefetch" href="/assets/js/348.0da2ddee.js"><link rel="prefetch" href="/assets/js/349.de50f67d.js"><link rel="prefetch" href="/assets/js/35.9b51b726.js"><link rel="prefetch" href="/assets/js/350.f92c5361.js"><link rel="prefetch" href="/assets/js/351.72707290.js"><link rel="prefetch" href="/assets/js/352.1f0edd1c.js"><link rel="prefetch" href="/assets/js/353.5f9c19dd.js"><link rel="prefetch" href="/assets/js/354.b2939eae.js"><link rel="prefetch" href="/assets/js/355.727dbfdc.js"><link rel="prefetch" href="/assets/js/356.dafcbaec.js"><link rel="prefetch" href="/assets/js/357.affdfbc2.js"><link rel="prefetch" href="/assets/js/358.e2411dac.js"><link rel="prefetch" href="/assets/js/359.23312243.js"><link rel="prefetch" href="/assets/js/36.1ccaa7bc.js"><link rel="prefetch" href="/assets/js/360.2c11356f.js"><link rel="prefetch" href="/assets/js/361.39497448.js"><link rel="prefetch" href="/assets/js/362.fb557c89.js"><link rel="prefetch" href="/assets/js/363.a878b9e8.js"><link rel="prefetch" href="/assets/js/364.36d38090.js"><link rel="prefetch" href="/assets/js/365.78b95b94.js"><link rel="prefetch" href="/assets/js/366.79ca52d0.js"><link rel="prefetch" href="/assets/js/367.31ef03a5.js"><link rel="prefetch" href="/assets/js/368.af7b849c.js"><link rel="prefetch" href="/assets/js/369.1f35dbad.js"><link rel="prefetch" href="/assets/js/37.e7aec5aa.js"><link rel="prefetch" href="/assets/js/370.a6b4f300.js"><link rel="prefetch" href="/assets/js/371.a1a0b903.js"><link rel="prefetch" href="/assets/js/372.1bf00399.js"><link rel="prefetch" href="/assets/js/373.7abab42f.js"><link rel="prefetch" href="/assets/js/374.c78c3481.js"><link rel="prefetch" href="/assets/js/375.0c6aa4e0.js"><link rel="prefetch" href="/assets/js/376.0231e740.js"><link rel="prefetch" href="/assets/js/377.6451d5a5.js"><link rel="prefetch" href="/assets/js/378.3391bd02.js"><link rel="prefetch" href="/assets/js/379.974140d3.js"><link rel="prefetch" href="/assets/js/38.458c1fe2.js"><link rel="prefetch" href="/assets/js/380.79d31d39.js"><link rel="prefetch" href="/assets/js/381.65000261.js"><link rel="prefetch" href="/assets/js/382.a5b2527c.js"><link rel="prefetch" href="/assets/js/383.ca0af941.js"><link rel="prefetch" href="/assets/js/384.77f7ec34.js"><link rel="prefetch" href="/assets/js/385.4a90ceec.js"><link rel="prefetch" href="/assets/js/386.cdad8269.js"><link rel="prefetch" href="/assets/js/387.7a86de80.js"><link rel="prefetch" href="/assets/js/388.0c98ba01.js"><link rel="prefetch" href="/assets/js/389.08d80fe4.js"><link rel="prefetch" href="/assets/js/39.2629417e.js"><link rel="prefetch" href="/assets/js/390.6f07f986.js"><link rel="prefetch" href="/assets/js/391.e9b7a13f.js"><link rel="prefetch" href="/assets/js/392.576409ef.js"><link rel="prefetch" href="/assets/js/393.8ea15ed1.js"><link rel="prefetch" href="/assets/js/394.8e439224.js"><link rel="prefetch" href="/assets/js/395.05add058.js"><link rel="prefetch" href="/assets/js/396.72358bd6.js"><link rel="prefetch" href="/assets/js/397.a71c93db.js"><link rel="prefetch" href="/assets/js/398.1c2fa760.js"><link rel="prefetch" href="/assets/js/399.9dd8501f.js"><link rel="prefetch" href="/assets/js/4.2b5075f0.js"><link rel="prefetch" href="/assets/js/40.d05ce2aa.js"><link rel="prefetch" href="/assets/js/400.0a5023b7.js"><link rel="prefetch" href="/assets/js/401.f507fdbe.js"><link rel="prefetch" href="/assets/js/402.a1cd25c2.js"><link rel="prefetch" href="/assets/js/403.ef23b4fe.js"><link rel="prefetch" href="/assets/js/404.e7daea5c.js"><link rel="prefetch" href="/assets/js/405.b175bbc9.js"><link rel="prefetch" href="/assets/js/406.5518095b.js"><link rel="prefetch" href="/assets/js/407.0586de93.js"><link rel="prefetch" href="/assets/js/408.bb7ee1ec.js"><link rel="prefetch" href="/assets/js/409.1ef0be22.js"><link rel="prefetch" href="/assets/js/41.3fb0369e.js"><link rel="prefetch" href="/assets/js/410.961df569.js"><link rel="prefetch" href="/assets/js/411.486c594a.js"><link rel="prefetch" href="/assets/js/412.addab977.js"><link rel="prefetch" href="/assets/js/413.637b84a7.js"><link rel="prefetch" href="/assets/js/414.dbb5a30d.js"><link rel="prefetch" href="/assets/js/415.2ab9d283.js"><link rel="prefetch" href="/assets/js/416.70a5f76a.js"><link rel="prefetch" href="/assets/js/417.1036770d.js"><link rel="prefetch" href="/assets/js/418.59f2137b.js"><link rel="prefetch" href="/assets/js/419.066057f8.js"><link rel="prefetch" href="/assets/js/42.804381a7.js"><link rel="prefetch" href="/assets/js/420.ed76a143.js"><link rel="prefetch" href="/assets/js/421.c9eb3d41.js"><link rel="prefetch" href="/assets/js/422.e818de82.js"><link rel="prefetch" href="/assets/js/423.0db84e35.js"><link rel="prefetch" href="/assets/js/424.794d2373.js"><link rel="prefetch" href="/assets/js/425.12213f50.js"><link rel="prefetch" href="/assets/js/426.ac771d38.js"><link rel="prefetch" href="/assets/js/427.f658f203.js"><link rel="prefetch" href="/assets/js/428.a0528ae1.js"><link rel="prefetch" href="/assets/js/429.903b7f9b.js"><link rel="prefetch" href="/assets/js/43.70bcf4d5.js"><link rel="prefetch" href="/assets/js/430.353d7f7d.js"><link rel="prefetch" href="/assets/js/431.1e11cb70.js"><link rel="prefetch" href="/assets/js/432.d25a91f9.js"><link rel="prefetch" href="/assets/js/433.0d3614c6.js"><link rel="prefetch" href="/assets/js/434.275e233d.js"><link rel="prefetch" href="/assets/js/435.12b539e9.js"><link rel="prefetch" href="/assets/js/44.f84e7c7e.js"><link rel="prefetch" href="/assets/js/45.9aa302fb.js"><link rel="prefetch" href="/assets/js/46.bdf70056.js"><link rel="prefetch" href="/assets/js/47.efd42468.js"><link rel="prefetch" href="/assets/js/48.71b69724.js"><link rel="prefetch" href="/assets/js/49.a6ddec1e.js"><link rel="prefetch" href="/assets/js/5.ef856a2f.js"><link rel="prefetch" href="/assets/js/50.eda2f8a1.js"><link rel="prefetch" href="/assets/js/51.6be8a1ef.js"><link rel="prefetch" href="/assets/js/52.a02f5f13.js"><link rel="prefetch" href="/assets/js/53.ac74be9f.js"><link rel="prefetch" href="/assets/js/54.3cbba686.js"><link rel="prefetch" href="/assets/js/55.32ea3aa0.js"><link rel="prefetch" href="/assets/js/56.c1ce7372.js"><link rel="prefetch" href="/assets/js/57.396bba9a.js"><link rel="prefetch" href="/assets/js/58.dd39a083.js"><link rel="prefetch" href="/assets/js/59.e5b67c0c.js"><link rel="prefetch" href="/assets/js/6.3b7df6ac.js"><link rel="prefetch" href="/assets/js/60.195788e8.js"><link rel="prefetch" href="/assets/js/61.b4b79ed3.js"><link rel="prefetch" href="/assets/js/62.d6f23be5.js"><link rel="prefetch" href="/assets/js/63.1c3ba9df.js"><link rel="prefetch" href="/assets/js/64.291ede3c.js"><link rel="prefetch" href="/assets/js/65.1e0399db.js"><link rel="prefetch" href="/assets/js/66.bdf8b76f.js"><link rel="prefetch" href="/assets/js/67.a9dca10f.js"><link rel="prefetch" href="/assets/js/68.aeee4f95.js"><link rel="prefetch" href="/assets/js/69.0916bb5c.js"><link rel="prefetch" href="/assets/js/7.0023e9f0.js"><link rel="prefetch" href="/assets/js/70.f882dcfc.js"><link rel="prefetch" href="/assets/js/71.20864521.js"><link rel="prefetch" href="/assets/js/72.0108915a.js"><link rel="prefetch" href="/assets/js/73.93f956c0.js"><link rel="prefetch" href="/assets/js/74.376a7e60.js"><link rel="prefetch" href="/assets/js/75.a744289f.js"><link rel="prefetch" href="/assets/js/76.875903cd.js"><link rel="prefetch" href="/assets/js/77.f6d9b608.js"><link rel="prefetch" href="/assets/js/78.01791787.js"><link rel="prefetch" href="/assets/js/79.b999e0eb.js"><link rel="prefetch" href="/assets/js/8.2358259e.js"><link rel="prefetch" href="/assets/js/80.62aa0801.js"><link rel="prefetch" href="/assets/js/81.91d52a61.js"><link rel="prefetch" href="/assets/js/82.05510306.js"><link rel="prefetch" href="/assets/js/83.d491dbb4.js"><link rel="prefetch" href="/assets/js/84.f8fc412c.js"><link rel="prefetch" href="/assets/js/85.1065a2ce.js"><link rel="prefetch" href="/assets/js/86.75d5ad70.js"><link rel="prefetch" href="/assets/js/87.d2c271d8.js"><link rel="prefetch" href="/assets/js/88.bfdb39f7.js"><link rel="prefetch" href="/assets/js/89.f4d5a2b7.js"><link rel="prefetch" href="/assets/js/9.3d18a4d8.js"><link rel="prefetch" href="/assets/js/90.1c75034c.js"><link rel="prefetch" href="/assets/js/91.9a6d03a1.js"><link rel="prefetch" href="/assets/js/92.b72817c8.js"><link rel="prefetch" href="/assets/js/93.31a179e0.js"><link rel="prefetch" href="/assets/js/94.548c6cec.js"><link rel="prefetch" href="/assets/js/95.ce99b92f.js"><link rel="prefetch" href="/assets/js/96.ac235195.js"><link rel="prefetch" href="/assets/js/97.d3149d88.js"><link rel="prefetch" href="/assets/js/98.e2f3c21d.js"><link rel="prefetch" href="/assets/js/99.4b5d3cc8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2ef34e86.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">五年前端三年面试</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Introduction/" class="nav-link">
  导读
</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Node/" class="nav-link">
  后端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTTP/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/DesignPattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/CSBasic/" class="nav-link">
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/About/about.html" class="nav-link">
  关于
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/johanazhu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Introduction/" class="nav-link">
  导读
</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Node/" class="nav-link">
  后端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/HTTP/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/DesignPattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/CSBasic/" class="nav-link">
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/About/about.html" class="nav-link">
  关于
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/johanazhu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ES6/" aria-current="page" class="sidebar-link">ES6导航</a></li><li><a href="/ES6/模块化历程.html" class="active sidebar-link">模块化历程</a></li><li><a href="/ES6/深入理解ES6模块机制.html" class="sidebar-link">深入理解 ES6 模块机制</a></li><li><a href="/ES6/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/ES6/Async.html" class="sidebar-link">Async</a></li><li><a href="/ES6/Class.html" class="sidebar-link">Class</a></li><li><a href="/ES6/Proxy.html" class="sidebar-link">Proxy</a></li><li><a href="/ES6/Generator.html" class="sidebar-link">Generator</a></li><li><a href="/ES6/Let&amp;Const.html" class="sidebar-link">let 和 const</a></li><li><a href="/ES6/Map.html" class="sidebar-link">Map</a></li><li><a href="/ES6/Set.html" class="sidebar-link">Set</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="模块化历程"><a href="#模块化历程" class="header-anchor">#</a> 模块化历程</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>在李录的《文明、现代化、价值投资与中国》里，他把人类的文明史分为三大跃升阶段：即1.0狩猎采集文明、2.0农业文明和3.0科技文明。针对 JavaScript 的模块化，笔者认为模块化历程也可类比为这样的历程。在前端页面不复杂的情况下，我们只需引入需要的库、js文件或模块，这就像“狩猎采集文明”时，饿了去打猎、摘果子一样，及时反馈，速度NO1；后来前端页面复杂起来，各路前辈将优秀的模块思维带入前端，有了各种模块化方案，这就好比农业文明时代，你需要按照一种规范或说标准来写，它有约束性，但能极高的解决1.0时代的缺点——依赖顺序。有代表性的库如CommonJS，RequireJS，SeaJS。再后来就是目前的3.0科技文明阶段，前端需要各种打包器来进行打包，它不再是简简单单的脚本文件，写几个文件就引用那么简单了，在这个阶段最出名是的webpack，也有gulp，rollup。当然现在还有vite和snowpack等。接下来让我们揭开模块化的历程，从历史演变来看清模块化的本质</p> <h2 id="狩猎采集阶段-iife主导全球化"><a href="#狩猎采集阶段-iife主导全球化" class="header-anchor">#</a> 狩猎采集阶段——IIFE主导全球化</h2> <p>模块化解决的问题：</p> <ul><li><p>命名冲突</p></li> <li><p>文件依赖</p></li></ul> <h4 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h4> <ol><li>模块可以i多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载，就直接读取缓存结果。要想让模块再次运行，必须清除缓存</li> <li>模块记载会阻塞接下来代码的执行，需要等到模块加载完成才能继续执行——同步加载</li></ol> <p><strong>适用场景</strong>：服务器环境。nodejs 的模块规范是参考 commonJS 实现的</p> <p><strong>用法：</strong></p> <p>1.导入：require(&quot;路径&quot;)</p> <p>2.导出：module.exports 和 exports</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// a.js</span>
<span class="token keyword">export</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span> 

<span class="token comment">// b.js</span>
<span class="token keyword">var</span> moduleA <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>moduleA<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// hello world</span>
</code></pre></div><p>module.exports 和 exports 的区别是 exports 是 module.exports 的一个引用，详单与 Node 为每个模块提供一个 exports 变量，指向 module.exports。这相当于在模块顶部，有一行 var exports = module.exports 这样的命令</p> <p>以上例子可以理解为：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 默认执行 var exports = module.exports</span>
exports<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span> <span class="token comment">// 相当于：module.exports.a = 'hello world'</span>
<span class="token operator">...</span>
</code></pre></div><h4 id="amd"><a href="#amd" class="header-anchor">#</a> AMD</h4> <p>1.异步加载</p> <p>2.管理模块之间的依赖性，便于代码的编写和维护</p> <p>适用场景：浏览器环境，requireJS 是参考AMD规范实现的</p> <p>用法：</p> <p>1.导入：require(['模块名称'], function())</p> <p>因为Node ，有了CommonJS，所有大家有了想在浏览器端实现模块化的想法，这个时候分为三个分支，amd，cmd以及es6，amd的代表库是requirejs，cmd的代表是玉伯的seajs，后来es6才是集大成者。而玉伯的seajs是从requirejs中分离</p> <p>无论是cmd还是amd都是浏览器上的规范，是为了想在浏览器端实现模块化而做的</p> <p>为什么会有模块化</p> <ul><li>网站正在变成 Web Apps</li> <li>随着站点的扩大，代码的复杂性也在增加</li> <li>需要高度解耦的JS文件/模块</li> <li>部署需要几个HTTP调用中的优化代码</li></ul> <p>最开始的模块</p> <h4 id="从设计模块说起"><a href="#从设计模块说起" class="header-anchor">#</a> 从设计模块说起</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p>全局被污染，很容易命名冲突</p> <h4 id="简单封装-命名空间模式"><a href="#简单封装-命名空间模式" class="header-anchor">#</a> 简单封装：命名空间模式</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token constant">MYAPP</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">bar</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>减少全局上的变量数</p> <p>本质是对象，一点都不安全</p> <h4 id="匿名闭包-iife-模块"><a href="#匿名闭包-iife-模块" class="header-anchor">#</a> 匿名闭包：IIFE 模块</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Module <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   	<span class="token keyword">var</span> _private <span class="token operator">=</span> <span class="token string">'safe now'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_private<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        foo<span class="token operator">:</span> foo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Module<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 私有变量</span>
Module<span class="token punctuation">.</span>_private<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p>函数是 JavaScript 唯一的 Local Scope（作用域）</p> <h4 id="再增强一点-引入依赖"><a href="#再增强一点-引入依赖" class="header-anchor">#</a> 再增强一点：引入依赖</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Module <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _$body <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we can use jQuery now!</span>
    <span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_$body<span class="token punctuation">)</span> <span class="token comment">// 特权方法</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        foo<span class="token operator">:</span> foo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span>

Module<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>这就是模块模式，也是现代模块实现的基石</p> <h3 id="石器时代-脚本加载器"><a href="#石器时代-脚本加载器" class="header-anchor">#</a> 石器时代——脚本加载器</h3> <p>只有封装性可不够，我们还需要加载</p> <p>让我们回到脚本标签</p> <div class="language-html extra-class"><pre class="language-html"><code>body
	script(src=&quot;jquery.js&quot;)
	script(src=&quot;app.js&quot;) // do some $ thins...
</code></pre></div><p>顺序是根本</p> <p>并行加载</p> <p>DOM 顺序即执行顺序</p> <p>但现实是这样的...</p> <div class="language-html extra-class"><pre class="language-html"><code>body
	script(src=&quot;zepto.js&quot;)
	script(src=&quot;jhash.js&quot;)
	script(src=&quot;fastClick.js&quot;)
	script(src=&quot;iScroll.js&quot;)
	script(src=&quot;underscore.js&quot;)
	script(src=&quot;handlebar.js&quot;)
	script(src=&quot;datacenter.js&quot;)
	script(src=&quot;deferred.js&quot;)
	script(src=&quot;util/wxbridge.js&quot;)
	script(src=&quot;util/login.js&quot;)
	script(src=&quot;util/date.js&quot;)
	script(src=&quot;app.js&quot;)
	...
</code></pre></div><p>难以维护</p> <p>依赖模糊	不清楚的依赖关系</p> <p>请求过多的 HTTP 调用</p> <h4 id="labjs-脚本加载器"><a href="#labjs-脚本加载器" class="header-anchor">#</a> LABjs-脚本加载器</h4> <p>时间：2009年</p> <p>作用：加载和阻止 JavaScript</p> <p>效果：使用 LABjs 将取代所有难看的“脚本标签”</p> <h5 id="它是怎么工作的"><a href="#它是怎么工作的" class="header-anchor">#</a> 它是怎么工作的</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">script</span><span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">&quot;LAB.js&quot;</span> async<span class="token punctuation">)</span>
$<span class="token constant">LAB</span><span class="token punctuation">.</span><span class="token function">script</span><span class="token punctuation">(</span><span class="token string">&quot;framework.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">script</span><span class="token punctuation">(</span><span class="token string">&quot;plugin.framework.js&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">script</span><span class="token punctuation">(</span><span class="token string">&quot;myplugin.framework.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">script</span><span class="token punctuation">(</span><span class="token string">&quot;init.js&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>先到先得（执行顺序不重要）</p> <h5 id="另外"><a href="#另外" class="header-anchor">#</a> 另外</h5> <div class="language-html extra-class"><pre class="language-html"><code>$LAB
.script([&quot;script1.js&quot;, &quot;script2.js&quot;, &quot;script3.js&quot;])
.wait(function() { // wait for all scripts to execute first
	script1Func();
	script2Func();
	script3Func();
})
</code></pre></div><p>它基于文件的依赖管理</p> <h3 id="蒸汽朋克-模块加载器"><a href="#蒸汽朋克-模块加载器" class="header-anchor">#</a> 蒸汽朋克——模块加载器</h3> <p>YUI3 Loader - Module Loader</p> <p>2009</p> <p>YUI 的轻量级内核和模块化体系结构使其具有可扩展性，快速性和鲁棒性</p> <h4 id="写法"><a href="#写法" class="header-anchor">#</a> 写法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// YUI - 编写模块</span>
<span class="token constant">YUI</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">Y</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">Y</span><span class="token punctuation">.</span><span class="token constant">DOM</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// YUI - 使用模块</span>
<span class="token constant">YUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'dom'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">Y</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">Y</span><span class="token punctuation">.</span><span class="token constant">DOM</span><span class="token punctuation">.</span><span class="token function">doSomeThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token comment">// use some methods DOM attach to Y</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="创建自定义模块"><a href="#创建自定义模块" class="header-anchor">#</a> 创建自定义模块</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// hello.js</span>
<span class="token constant">YUI</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">Y</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">Y</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">Y</span><span class="token punctuation">.</span><span class="token constant">DOM</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token string">'innerHTML'</span><span class="token punctuation">,</span> <span class="token string">'Hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'3.0.0'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    requires<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'dom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// main.js</span>
<span class="token constant">YUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">Y</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">Y</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">'hey yui loader'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>基于模块的依赖管理</p> <h4 id="让我们再深入一下"><a href="#让我们再深入一下" class="header-anchor">#</a> 让我们再深入一下</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Sandbox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> modulex<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Sandbox<span class="token punctuation">.</span>modulex<span class="token punctuation">[</span>modules<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>YUI 其实是一个强沙箱</p> <p>所有依赖模块通过 attach 的方式被注入沙盒</p> <h4 id="但还是-脚本标签"><a href="#但还是-脚本标签" class="header-anchor">#</a> 但还是”脚本标签“</h4> <div class="language-html extra-class"><pre class="language-html"><code>script(src=&quot;/path/to/yui-min.js&quot;)
script(src=&quot;/path/to/my/module1.js&quot;)
script(src=&quot;/path/to/my/module2.js&quot;)
script(src=&quot;/path/to/my/module3.js&quot;)
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">YUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token string">'module2'</span><span class="token punctuation">,</span> <span class="token string">'module3'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">Y</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// you can use all this module now</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>你不必按照固定顺序写脚本写标签</p> <p>加载与执行分离</p> <h4 id="漏了一个问题"><a href="#漏了一个问题" class="header-anchor">#</a> 漏了一个问题</h4> <p>HTTP调用过多</p> <h4 id="yui组合的工作原理"><a href="#yui组合的工作原理" class="header-anchor">#</a> YUI组合的工作原理</h4> <div class="language-html extra-class"><pre class="language-html"><code>script(src=&quot;http://www.baidu.com/build/yui/yui-min.js&quot;)
script(src=&quot;http://www.baidu.com/build/dom/dom-min.js&quot;)
</code></pre></div><p>改造成</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">script</span><span class="token punctuation">(</span>src<span class="token operator">=</span>&quot;http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">/</span>combo<span class="token operator">?</span>
       build<span class="token operator">/</span>yui<span class="token operator">/</span>yui<span class="token operator">-</span>min<span class="token punctuation">.</span>js<span class="token operator">&amp;</span>
       build<span class="token operator">/</span>dom<span class="token operator">/</span>dom<span class="token operator">-</span>min<span class="token punctuation">.</span>js&quot;<span class="token punctuation">)</span>
</code></pre></div><p>在单个请求中处理多个文件</p> <p>GET请求，需要服务器支持</p> <p>以及</p> <p>合并 concat</p> <p>压缩 Minify</p> <p>混淆 丑化</p> <h3 id="commonjs-2"><a href="#commonjs-2" class="header-anchor">#</a> CommonJS</h3> <p>CommonJS</p> <p>2009.08</p> <p>不仅适用于浏览器</p> <h5 id="用法"><a href="#用法" class="header-anchor">#</a> 用法：</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// math.js</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// main.js</span>
<span class="token keyword">var</span> math <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./math.js'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><h3 id="amd-cmd-浏览器环境预设方案"><a href="#amd-cmd-浏览器环境预设方案" class="header-anchor">#</a> AMD / CMD——浏览器环境预设方案</h3> <h4 id="amd-async-module-definition"><a href="#amd-async-module-definition" class="header-anchor">#</a> AMD(Async Module Definition)</h4> <p>RequireJS 对模块定义的规范化产出</p> <p>CMD(Common Module Definition)</p> <p>SeaJS 对模块定义的规范化产出</p> <h3 id="browserify-gulp-webpack"><a href="#browserify-gulp-webpack" class="header-anchor">#</a> browserify/gulp/webpack</h3> <p>CommonJs in Browser</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g browserify
</code></pre></div><p>只需要写 CommonJs 的代码，用 browserify 帮你编译就好</p> <div class="language-bash extra-class"><pre class="language-bash"><code>browserify main.js -o bundle.js
</code></pre></div><p>Browserify 分析 AST 的 require() 调用，以遍历项目的整个依赖关系图</p> <h4 id="webpack-集大成者"><a href="#webpack-集大成者" class="header-anchor">#</a> Webpack-集大成者</h4> <p>几乎对任何资源或资产进行转换，捆绑或打包</p> <h3 id="rollup"><a href="#rollup" class="header-anchor">#</a> Rollup</h3> <h3 id="es6-模块"><a href="#es6-模块" class="header-anchor">#</a> ES6 模块</h3> <p>用ES6的模块来写，然后用babel转移成低版本的 JavaScript 语法</p> <h3 id="vite"><a href="#vite" class="header-anchor">#</a> Vite</h3> <p>我想说的就是模块化的发展啊</p> <p>介绍模块化发展历程</p> <p>IIFE(声明即执行的函数表达式)，特点：<strong>在一个单独的函数作用于中执行代码，避免变量冲突</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>AMD:</strong> 使用 requireJS 来编写模块化，特点：<strong>依赖必须提前声明好</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// code 就是index.Js 返回的内容</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>CMD:</strong> 使用 seaJS 来编写模块化，特点： <strong>支持动态引入依赖</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> moduke</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> indexCode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>CommonJS:</strong>  nodejs 中自带的模块化</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
</code></pre></div><p>exports指向module.exports，即exports = model.exports</p> <p><strong>UMD:</strong>  是AMD 和 CommonJS 的糅合，跨平台的解决方案</p> <p><strong>ES Modules：</strong> ES6引入的模块化，支持import来引入另一个js</p> <p>ES6模块与CommonJS模块的差异</p> <p>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用</p> <p>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口</p> <p>https://github.com/mqyqingfeng/Blog/issues/108</p> <p>js模块化规范总结</p> <p>https://mp.weixin.qq.com/s?__biz=MzA4ODUzNTE2Nw==&amp;mid=2451046624&amp;idx=1&amp;sn=5e148a4785b54730e3673ba709882a24&amp;chksm=87c419f0b0b390e61fc91695c663e27ed130c28e30307d4576c43023b4bf6964ef2f56645d61&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1576713268652&amp;sharer_shareid=778ad5bf3b27e0078eb105d7277263f6#rd</p> <p>javascript 模块化七日谈</p> <p>http://huangxuan.me/js-module-7day/#/</p> <p>玉伯 sea.js</p> <p>https://github.com/seajs/seajs/issues/588</p> <p>从 IIFE 聊到 Babel 都不深入了解前端模块化发展体系</p> <p>https://juejin.im/post/5cb9e563f265da03712999e8</p> <p>前端模块化的十年征程</p> <p>https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651240309&amp;idx=1&amp;sn=b5a9ac499b00d402af528c15c1a301fb&amp;chksm=bd496ef18a3ee7e73448f0f65605aa5a27df947adca2cc201829915752a7748052e8c87f612d&amp;mpshare=1&amp;scene=1&amp;srcid=1019fyBTdQpkLsyYbQcol6Bk&amp;sharer_sharetime=1603066623304&amp;sharer_shareid=778ad5bf3b27e0078eb105d7277263f6&amp;key=b936ead840dca7f694fb75475df166150e813a5c4fa005b428552d5bb59dace7262a3b08891c13edc316a462bd0d5b6202433ca5fb04bba0d453e47f3b9706355205a0e7ba9a6bff4984a22d538f6bb9b7eafa9fe033f5129ebebfff4d9bcfe4592f28564660c311186df8b7cce8e3bd9740b74a283d38bf980dd9d5335bf3ae&amp;ascene=1&amp;uin=MTA0NTY0NDM2MQ%3D%3D&amp;devicetype=Windows+10+x64&amp;version=6300002f&amp;lang=zh_CN&amp;exportkey=AbGKawpaIdiHy5D4SiZMfP0%3D&amp;pass_ticket=c4InQddtubDqW9DvkTQK5NIlK76V2XF%2F0upCynHdACcXVxeZSvopDX%2FLpl580dSr&amp;wx_header=0</p> <p>AMD和CMD最大的区别是对依赖模块的执行时机处理不同</p> <p>AMD：依赖前置，提前执行</p> <p>CMD：依赖就近，延迟执行</p> <p>ESM（ES6 module）</p> <p>export 只支持对象形式导出，不支持值的导出，export default命令用于指定模块的默认输出，只支持值导出，但是只能指定一个，本质上它就是输出一个叫做default的变量或方法</p> <p>CommonJs 因为是同步执行，所以如果在浏览器上使用CommonJS，会引起浏览器的假死（卡住）</p> <p>AMD规范是异步加载模块，允许指定回调函数，代表函数库：<code>require.js</code></p> <p><code>require.js</code> 主要解决两个问题：</p> <ul><li>异步加载模块</li> <li>模块之间依赖模糊</li></ul> <p>CMD是阿里的玉伯提出的，js 的函数为 <code>sea.js</code> 。它与 <code>require.js</code> 最主要的区别是实现了按需加载，推崇依赖就近原则，模块延迟执行</p> <p>UMD 是 AMD 和 CommonJS 的综合产物</p> <p>ifelse 的写法</p> <p>ES6 的模块化，可以使用 <code>import</code> 关键字引入模块， 通过<code>export</code> 关键字导出模块</p> <p>与 CommonJS 的差异</p> <ul><li>CommonJS 模块输出的是一个值的拷贝， ES6模块输出的是值的引用</li> <li>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口</li></ul> <p>https://mp.weixin.qq.com/s/y4A6Wc00fmdWRWmuj0ae5g</p> <p>https://mmbiz.qpic.cn/sz_mmbiz_png/udZl15qqib0PhSBbWjiaibUzaBx1yGSG5BpY9hsFHkoXea8FKoCtD3x8yLibpQXojiabT4WbH7vslE94fMJ8icXricJzg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1</p> <h3 id="iife"><a href="#iife" class="header-anchor">#</a> IIFE</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> module1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> x <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> module2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">var</span> a <span class="token operator">=</span> module1<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> a <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>	
</code></pre></div><p>在ES6的模块化还没出来之前，一些库或者模块是通过 IIFE（立即执行函数）来实现的。关于IIFE，我们之前在 JavaScript 篇的 <a href="/JavaScript/立即执行函数的魅力.html">立即执行函数的魅力</a> 中提到过</p> <p>但用这种方式的缺点：扩展的模块无法共享原有模块的内部属性，还有模块本身常常依赖其他模块，模块模式无法实现这些依赖关系</p> <p>缺点：</p> <ul><li>随着项目扩展，html 文件中会包含大量的 script 标签</li> <li>script 的依赖关系难以用 script 标签的先后顺序组织</li></ul> <p>为了解决这个问题，出现了两个互相竞争的标准，即Asynchronous Module Definition（AMD）和 CommonJS</p> <p>AMD和CommonJS是两个相互竞争的标准，均可以定义JavaScript模块。除了语法和原理的区别之外，主要的区别是AMD的设计理念是明确基于浏览器，而CommonJS的设计是面向通用JavaScript环境（如 Node.js服务端），而不局限于浏览器。</p> <p>AMD 异步</p> <p>CommonJS 同步</p> <h3 id="amd-2"><a href="#amd-2" class="header-anchor">#</a> AMD</h3> <p>AMD可以很容易指定模块及依赖关系。同时，它支持浏览器。目前，AMD最流行的实现是 RequireJS（http://requirejs.org/）。</p> <h4 id="使用姿势"><a href="#使用姿势" class="header-anchor">#</a> 使用姿势</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jquery'</span><span class="token punctuation">,</span> <span class="token string">'common'</span><span class="token punctuation">,</span> <span class="token string">'errorMsg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$<span class="token punctuation">,</span> common<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Home<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>RequireJS 声明一个模块是，必须指定所有的依赖项，这些依赖项会被当做形参传到 factory 中，对于依赖的模块会提前执行（在 RequireJS 2.0 也可以选择延迟执行），这被称为：依赖前置</p> <p>但是这会带来说明问题呢？</p> <p>加大了开发过程中的难度，无论是阅读之前的代码还是编写新的内容，会出现这样的情况：引入的另一个模块中的内容是条件性执行的</p> <h3 id="cmd-common-module-definition-seajs"><a href="#cmd-common-module-definition-seajs" class="header-anchor">#</a> CMD（Common Module Definition） &amp; SeaJS</h3> <p>CMD 是除AMD以外的另外一种模块组织规范。CMD 即 Common Module Definition，意为“通用模块定义”。</p> <p>针对 AMD 规范中可以优化的部分，<a href="https://github.com/cmdjs/specification/blob/master/draft/module.md" target="_blank" rel="noopener noreferrer">CMD 规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 出现了，而 <a href="https://github.com/seajs/seajs" target="_blank" rel="noopener noreferrer">SeaJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 则作为它的具体实现之一，与 AMD 十分相似：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// AMD 的一个例子，当然这是一种极端的情况</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;header&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;footer&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">header<span class="token punctuation">,</span> main<span class="token punctuation">,</span> footer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      header<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'new-title'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      main<span class="token punctuation">.</span><span class="token function">setMain</span><span class="token punctuation">(</span><span class="token string">'new-content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      footer<span class="token punctuation">.</span><span class="token function">setFooter</span><span class="token punctuation">(</span><span class="token string">'new-footer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// 与之对应的 CMD 的写法</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> header <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./header'</span><span class="token punctuation">)</span>
      header<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'new-title'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> main <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./main'</span><span class="token punctuation">)</span>
      main<span class="token punctuation">.</span><span class="token function">setMain</span><span class="token punctuation">(</span><span class="token string">'new-content'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> footer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./footer'</span><span class="token punctuation">)</span>
      footer<span class="token punctuation">.</span><span class="token function">setFooter</span><span class="token punctuation">(</span><span class="token string">'new-footer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>AMD与CMD最大的区别：</p> <p>一方面，在依赖的处理上</p> <ul><li>AMD 推崇依赖前置，即通过依赖数组的方式提前声明当前模块的依赖</li> <li>CMD 推崇依赖就近，在编译需要用到的时候通过调用require 方法动态引入</li></ul> <p>另一方面，在本模块的对外输出上</p> <ul><li>AMD 推崇通过返回值的方式对外输出</li> <li>CMD 推崇通过给 module.exports 赋值的方式对外输出</li></ul> <h3 id="amd-cmd背后的实现原理"><a href="#amd-cmd背后的实现原理" class="header-anchor">#</a> AMD &amp;&amp; CMD背后的实现原理</h3> <p>一种解决方 案是采用UMD（Universal Module Definition, https://github.com/umdjs/umd），这种模式的语法有点复杂，它同时支持 AMD和CommonJS。</p> <h3 id="es6-模块-2"><a href="#es6-模块-2" class="header-anchor">#</a> ES6 模块</h3> <p>Babel 作为 ES6 官方指定的编译器</p> <p>CommonJS 与 Sea.js</p> <p>Sea.js 的初衷是为了让 ComoonJS Modules/1.1 的模块能运行在浏览器端，但由于浏览器和服务器的实质差异，实际上，无法达到，也没必要达到</p> <p><img src="https://i.loli.net/2021/06/03/rNlbIdexRzf9W8V.png" alt="image-20210316161915559"></p> <p>ESModule 系列（一）：演进</p> <p>https://mp.weixin.qq.com/s/XmwfKLQrRlZ4z0niz5mLJg</p> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料：</h3> <p><a href="https://huangxuan.me/js-module-7day/#/" target="_blank" rel="noopener noreferrer">JavaScript 模块化七日谈<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://zhuanlan.zhihu.com/p/265632724" target="_blank" rel="noopener noreferrer">前端模块化的十年征程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/seajs/seajs/issues/269" target="_blank" rel="noopener noreferrer">从 CommonJS 到 Sea.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/seajs/seajs/issues/588" target="_blank" rel="noopener noreferrer">前端模块化开发那点历史<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">7/21/2021, 6:38:35 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ES6/" class="prev router-link-active">
        ES6导航
      </a></span> <span class="next"><a href="/ES6/深入理解ES6模块机制.html">
        深入理解 ES6 模块机制
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.ef9d35bd.js" defer></script><script src="/assets/js/2.e1bdf339.js" defer></script><script src="/assets/js/128.15652faf.js" defer></script>
  </body>
</html>
