(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{599:function(e,t,a){"use strict";a.r(t);var v=a(25),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"http缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http缓存"}},[e._v("#")]),e._v(" HTTP缓存")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/06/11/plxXEtBUG7w6Sdj.png",alt:"640"}})]),e._v(" "),a("h4",{attrs:{id:"keep-alive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keep-alive"}},[e._v("#")]),e._v(" keep-alive")]),e._v(" "),a("p",[e._v("0 为关闭")]),e._v(" "),a("p",[e._v("keepalive_timeout 0;")]),e._v(" "),a("p",[e._v("65s无连接 关闭")]),e._v(" "),a("p",[e._v("keepalive_timeout 65;")]),e._v(" "),a("p",[e._v("连接数，达到100断开")]),e._v(" "),a("p",[e._v("keepalive_requests 100;")]),e._v(" "),a("h4",{attrs:{id:"cache-control-expires-max-age"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cache-control-expires-max-age"}},[e._v("#")]),e._v(" Cache-Control/Expires/Max-Age")]),e._v(" "),a("h4",{attrs:{id:"last-modified-if-modified-since"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#last-modified-if-modified-since"}},[e._v("#")]),e._v(" Last-Modified/If-Modified-Since")]),e._v(" "),a("h4",{attrs:{id:"etag-if-none-match"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etag-if-none-match"}},[e._v("#")]),e._v(" Etag/If-None-Match")]),e._v(" "),a("p",[e._v("cache-control的优先级最高，比如cache-control：no-cache，就直接进入到协商缓存的步骤，如果cache-control：max-age=xxx,就会先比较当前时间和上次返回200时的时间差，如果没有超过max-age，命中强缓存，不发请求直接从本地缓存读取该文件（这里需要注意，如果没有cache-control，会取expires的值，来对比是否过期），过期的话会进入下一个阶段——协议缓存")]),e._v(" "),a("p",[e._v("协议缓存阶段，则向服务器发送header带有If-None-Match和If-Modified-Since的请求，服务器会比较Etag，如果相同，命中协议缓存，返回304了如果不一致则有改动，直接返回新的资源文件带上新的Etag值并返回200；")]),e._v(" "),a("p",[e._v("什么是from disk cache 和 from memory cache，什么时候会触发？")]),e._v(" "),a("p",[e._v("强缓存会触发")]),e._v(" "),a("p",[e._v("1、先查找内存，如果内存中存在，从内存中加载；")]),e._v(" "),a("p",[e._v("2、如果内存中未查找到，现在硬盘获取，如果硬盘中有，从硬盘中加载；")]),e._v(" "),a("p",[e._v("3、如果硬盘中未查找到，就进行网络请求；")]),e._v(" "),a("p",[e._v("4、加载到的资源缓存到硬盘和内存")]),e._v(" "),a("h1",{attrs:{id:"缓存相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存相关"}},[e._v("#")]),e._v(" 缓存相关")]),e._v(" "),a("p",[e._v("深入理解浏览器的缓存机制")]),e._v(" "),a("p",[e._v("https://www.jianshu.com/p/54cc04190252")]),e._v(" "),a("p",[e._v("浏览器 & HTTP 缓存策略")]),e._v(" "),a("p",[e._v("【面试三板斧】之缓存")]),e._v(" "),a("p",[e._v("https://mp.weixin.qq.com/s?__biz=Mzk0OTIwOTc5Ng==&mid=2247486813&idx=1&sn=0ed82e72452ad27494bbcdb90de4ae4b&source=41#wechat_redirect")]),e._v(" "),a("p",[e._v("彻底理解浏览器的缓存机制")]),e._v(" "),a("p",[e._v("https://www.cnblogs.com/duiniweixiao/p/8884274.html")]),e._v(" "),a("p",[e._v("前端缓存最佳实践")]),e._v(" "),a("p",[e._v("https://mp.weixin.qq.com/s/03OAnrJ5kM-kdITr00YR4Q")]),e._v(" "),a("p",[e._v("缓存的力量")]),e._v(" "),a("p",[e._v("https://mp.weixin.qq.com/s/CsJyKVq3IIjDv32TZ9m7fQ")]),e._v(" "),a("p",[e._v("node实践彻底搞懂强缓存和协商缓存")]),e._v(" "),a("p",[e._v("https://juejin.cn/post/6942264171870289956#heading-1")]),e._v(" "),a("p",[e._v("浅析HTTP缓存")]),e._v(" "),a("p",[e._v("https://juejin.cn/post/6944891188826603528")])])}),[],!1,null,null,null);t.default=_.exports}}]);