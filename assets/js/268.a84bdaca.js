(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{725:function(e,t,o){"use strict";o.r(t);var s=o(25),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"node中的模块机制"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#node中的模块机制"}},[e._v("#")]),e._v(" Node中的模块机制")]),e._v(" "),o("p",[e._v("之前没有模块化")]),e._v(" "),o("p",[e._v("模块化的历程")]),e._v(" "),o("p",[e._v("简单来说：")]),e._v(" "),o("p",[e._v("IIFE——CommonJS——AMD/CMD——ES6模块...")]),e._v(" "),o("p",[e._v("https://tuture.co/2019/12/03/892fa12/")]),e._v(" "),o("h3",{attrs:{id:"什么是-node-模块"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#什么是-node-模块"}},[e._v("#")]),e._v(" 什么是 Node 模块")]),e._v(" "),o("p",[e._v("在正是分析 Node 模块机制之前，我们需要明确定义什么是 Node 模块。通常来说，Node 模块可分为两大类：")]),e._v(" "),o("ul",[o("li",[e._v("核心模块：Node 提供的内置模块，在安装 Node 时已经被编译成二进制可执行文件")]),e._v(" "),o("li",[e._v("文件模块：用户编写的模块，可以是自己写的，也可以使通过 npm 安全的")])]),e._v(" "),o("p",[e._v("exports 对象本质上是 module.exports 的引用。也就是说，下面两行代码是等价的")]),e._v(" "),o("div",{staticClass:"language-javascript extra-class"},[o("pre",{pre:!0,attrs:{class:"language-javascript"}},[o("code",[o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 导出 add 函数")]),e._v("\nexports"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("add "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" add"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 和上面一行代码是一样的")]),e._v("\nmodule"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("add "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" add"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),o("p",[e._v("module 对象")]),e._v(" "),o("p",[e._v("module 在每个模块中表示对当前模块的引用。而 module.exports 又可以通过全局对象 exports 来引用。module 并不是一个全局对象，而更像一个模块内部对象")]),e._v(" "),o("h5",{attrs:{id:"module-children"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#module-children"}},[e._v("#")]),e._v(" module.children")]),e._v(" "),o("p",[e._v("这个模块引入的所有模块对象")]),e._v(" "),o("h5",{attrs:{id:"module-exports"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#module-exports"}},[e._v("#")]),e._v(" module.exports")]),e._v(" "),o("p",[e._v("module.exports 通过模块系统创建。")]),e._v(" "),o("p",[e._v("https://juejin.cn/post/6844904029219192839")]),e._v(" "),o("p",[e._v("Node.Js 模块系统源码探微")]),e._v(" "),o("p",[e._v("https://mp.weixin.qq.com/s?__biz=MzI0NTE5NzYyMw==&mid=2247483885&idx=1&sn=eb4dd408d58774dc1587f0d6705eb8a2&chksm=e9537fb5de24f6a310a36b8d46623ec534a94a5ff09d7deb6191124e14c39b0667ef465059e4&mpshare=1&scene=1&srcid=&sharer_sharetime=1575817441587&sharer_shareid=778ad5bf3b27e0078eb105d7277263f6#rd")]),e._v(" "),o("h2",{attrs:{id:"export-与-module-export-的区别"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#export-与-module-export-的区别"}},[e._v("#")]),e._v(" export 与 module.export 的区别")]),e._v(" "),o("p",[e._v("导出多个成员（必须在对象中）")]),e._v(" "),o("p",[e._v("exports.a = 123\nexports.b = 'hello'\nexports.c = function(){\nconsole.log('ccc')\n}\nexports.d = {\nfoo: 'bar'\n}\n导出多个成员也可以这样写")]),e._v(" "),o("p",[e._v("module.exports = {\nfoo: 'bar',\nadd: function () {\nconsole.log('aa')\n}\n}\n导出单个成员（拿到的就是：函数，字符串）\nmodule.exports = 'hello'\n以下情况会覆盖：")]),e._v(" "),o("p",[e._v("module.exports = 'hello'")]),e._v(" "),o("p",[e._v("// 以这个为准，后者会覆盖前者\nmodule.exports = function(x, y) {\nreturn x + y\n}\nexports 是 module.exports 的一个引用")]),e._v(" "),o("p",[e._v("console.log(exports === module.exports) // => true")]),e._v(" "),o("p",[e._v("exports.foo = 'bar'")]),e._v(" "),o("p",[e._v("// 等价于\nmodule.exports.foo = 'bar'")]),e._v(" "),o("p",[e._v("require和import")]),e._v(" "),o("p",[e._v("https://segmentfault.com/a/1190000014434944")])])}),[],!1,null,null,null);t.default=a.exports}}]);