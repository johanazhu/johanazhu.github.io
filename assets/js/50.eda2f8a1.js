(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{485:function(t,a,r){"use strict";r.r(a);var v=r(25),_=Object(v.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"渲染进程中的线程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#渲染进程中的线程"}},[t._v("#")]),t._v(" "),r("strong",[t._v("渲染进程中的线程")])]),t._v(" "),r("h2",{attrs:{id:"写在面前"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#写在面前"}},[t._v("#")]),t._v(" 写在面前")]),t._v(" "),r("p",[t._v("上一章我们介绍了 "),r("RouterLink",{attrs:{to:"/Browser/浏览器架构.html"}},[t._v("浏览器架构")]),t._v(" 。介绍了现代浏览器的架构为多进程架构，它由浏览器主进程、GPU进程、网络进程、音频进程、存储进程、多个渲染进程和多个插件进程组成（89.0.4389.90版本Chrome）。我们也说了线程的崩坏会导致页面（渲染进程）卡死，但不会影响其他页面。")],1),t._v(" "),r("p",[t._v("那么渲染进程有什么组成？这个很重要，因为它是页面渲染、事件循环的基础。")]),t._v(" "),r("h2",{attrs:{id:"一句话解释"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一句话解释"}},[t._v("#")]),t._v(" 一句话解释")]),t._v(" "),r("p",[t._v("渲染进程就是我们常说的浏览器内核，负责页面渲染，脚本执行，事件处理等，每个tab页就是一个渲染进程")]),t._v(" "),r("p",[t._v("渲染进程中包括GUI渲染线程、 JS引擎线程、事件触发线程、网络异步线程、定时器线程？")]),t._v(" "),r("p",[t._v("渲染进程内部包含主线程、工作线程、合成线程和光栅线程")]),t._v(" "),r("h2",{attrs:{id:"由什么组成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#由什么组成"}},[t._v("#")]),t._v(" 由什么组成")]),t._v(" "),r("h3",{attrs:{id:"gui渲染线程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gui渲染线程"}},[t._v("#")]),t._v(" GUI渲染线程")]),t._v(" "),r("ul",[r("li",[t._v("负责渲染浏览器界面，解析HTML、CSS，构建DOM树和 RenderObject 树，布局和绘制等")]),t._v(" "),r("li",[t._v("当界面需要重绘或由于某种操作引发回流时，该线程就会执行")]),t._v(" "),r("li",[t._v("注意，GUI渲染线程与JS引擎线程时互斥的，当JS引擎执行时GUI线程会被挂在，GUI更新会被保存在一个队列中等待JS引擎空闲时立即被执行")])]),t._v(" "),r("h3",{attrs:{id:"js引擎线程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#js引擎线程"}},[t._v("#")]),t._v(" JS引擎线程")]),t._v(" "),r("ul",[r("li",[t._v("也称为JS内核，负责处理 JavaScript 脚本程序（例如V8引擎）")]),t._v(" "),r("li",[t._v("负责处理解析和执行 JavaScript 脚本程序")]),t._v(" "),r("li",[t._v("只有一个 JS引擎线程（单线程）")]),t._v(" "),r("li",[t._v("与 GUI 渲染线程互斥，防止渲染结果不可预期")])]),t._v(" "),r("h3",{attrs:{id:"事件触发线程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#事件触发线程"}},[t._v("#")]),t._v(" 事件触发线程")]),t._v(" "),r("ul",[r("li",[t._v("用来控制事件循环（鼠标点击、setTimeout、Ajax等）")]),t._v(" "),r("li",[t._v("当事件满足触发条件时，将事件放入到JS引擎所在的执行队列中")]),t._v(" "),r("li",[t._v("归属于浏览器而不是"),r("code",[t._v("JS")]),t._v("引擎，用来控制事件循环")])]),t._v(" "),r("h3",{attrs:{id:"定时触发器线程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#定时触发器线程"}},[t._v("#")]),t._v(" 定时触发器线程")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("setTimeout")]),t._v("和"),r("code",[t._v("setInterval")]),t._v("所在的线程")]),t._v(" "),r("li",[t._v("定时任务并不是由JS引擎计时的，是由定时触发线程来计时")]),t._v(" "),r("li",[t._v("计时完毕后，通知事件触发线程")])]),t._v(" "),r("h3",{attrs:{id:"异步http请求线程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#异步http请求线程"}},[t._v("#")]),t._v(" 异步HTTP请求线程")]),t._v(" "),r("ul",[r("li",[t._v("浏览器有一个单独的线程用于处理AJAX请求")]),t._v(" "),r("li",[t._v("当请求完成时，若有回调函数，通知事件触发线程")])]),t._v(" "),r("h3",{attrs:{id:"为什么-gui-渲染线程与-js-引擎线程互斥"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#为什么-gui-渲染线程与-js-引擎线程互斥"}},[t._v("#")]),t._v(" 为什么 GUI 渲染线程与 JS 引擎线程互斥")]),t._v(" "),r("p",[t._v("这是由于 JS 是可以操作 DOM 的，如果同时修改元素属性并同时渲染界面（即 JS线程 和 UI线程同时运行），那么渲染线程前后获得的元素就可能不一致了")]),t._v(" "),r("h2",{attrs:{id:"参考资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://segmentfault.com/a/1190000014018604",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器渲染机制"),r("OutboundLink")],1)])]),t._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6844903919789801486#heading-5",target:"_blank",rel:"noopener noreferrer"}},[t._v("「前端进阶」从多线程到Event Loop全面梳理"),r("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=_.exports}}]);