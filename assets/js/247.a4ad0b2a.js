(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{704:function(s,a,e){"use strict";e.r(a);var t=e(25),l=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"防火墙知一二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#防火墙知一二"}},[s._v("#")]),s._v(" 防火墙知一二")]),s._v(" "),e("p",[s._v("写在前言：本人Linux操作系统为 CentOS7")]),s._v(" "),e("p",[e("strong",[s._v("作用：设置防火墙能避免来自网络的攻击")])]),s._v(" "),e("h4",{attrs:{id:"命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令：")]),s._v(" "),e("p",[s._v("查看状态")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --state\n")])])]),e("p",[s._v("开启防火墙")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl start firewalld.service\n")])])]),e("p",[s._v("关闭防火墙")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl stop firewalld.service\n")])])]),e("p",[s._v("重载防火墙")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --reload \n")])])]),e("p",[s._v("开机启动防火墙")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" firewalld.service\n")])])]),e("p",[s._v("禁止开机启动")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl disable firewalld.service\n")])])]),e("p",[s._v("命令行打开端口（以80端口为例）")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开放端口命令")]),s._v("\nsystemctl restart firewalld.service "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启防火墙")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令含义：")]),s._v("\n--zone "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作用域")]),s._v("\n--add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加端口，格式为：端口/通讯协议")]),s._v("\n--permanent "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久生效，没有此参数重启后失效")]),s._v("\n")])])]),e("p",[s._v("查看开发的端口")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --list-ports\n")])])]),e("p",[s._v("进入 /etc/sysconfig 中，编辑 iptables-config，写入规则")]),s._v(" "),e("p",[s._v("写入规则")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("-A INPUT -m state –state NEW -m tcp -p tcp –dport "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" -j ACCEPT "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#允许8080端口通过防火墙")]),s._v("\n")])])]),e("p",[s._v("查看规则")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("iptables --list -n\n")])])]),e("p",[s._v("查看防火墙版本")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --version\n")])])]),e("p",[s._v("查看防火墙帮助")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --help\n")])])])])}),[],!1,null,null,null);a.default=l.exports}}]);