(window.webpackJsonp=window.webpackJsonp||[]).push([[322],{779:function(e,t,o){"use strict";o.r(t);var v=o(25),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"react-生命周期管理"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#react-生命周期管理"}},[e._v("#")]),e._v(" React 生命周期管理")]),e._v(" "),o("h2",{attrs:{id:"前言"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),o("p",[e._v("生命周期已经很久没有考过了")]),e._v(" "),o("p",[e._v("但是在我刚接触 React 的时候，这是个必学的知识点")]),e._v(" "),o("p",[e._v("相对应的 Vue ，小程序也有生命周期")]),e._v(" "),o("p",[e._v("你是否遇到过这样的问题：")]),e._v(" "),o("ul",[o("li",[e._v("组件的生命周期有哪些？为什么要有生命周期函数？")]),e._v(" "),o("li",[e._v("我应该生命时候去获取后台数据？为什么很多教程都推荐用componentDidMount？用componentWillMount有什么问题？")]),e._v(" "),o("li",[e._v("为什么 setState 卸载这里造成了重复渲染多次？")]),e._v(" "),o("li",[e._v("setState在这里写合适吗")])]),e._v(" "),o("p",[e._v("https://www.yuque.com/fe9/select/fon761")]),e._v(" "),o("p",[e._v("组件是有周期")]),e._v(" "),o("p",[e._v("componentWillMount 当要挂载")]),e._v(" "),o("p",[e._v("componentDidMount 挂载上时")]),e._v(" "),o("p",[e._v("componentWillUnmount 摧毁时")]),e._v(" "),o("p",[e._v("componentWillReceiveProps 当传来的props变化时")]),e._v(" "),o("p",[e._v("shouldComponentUpdate 返回boolean")]),e._v(" "),o("p",[e._v("componentWillUpdate 当组件要更新前")]),e._v(" "),o("p",[e._v("componentDidUpdate 当组件更新完")]),e._v(" "),o("p",[e._v("生命周期图谱")]),e._v(" "),o("p",[e._v("https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/")]),e._v(" "),o("p",[e._v("现在生命周期都没人考了，为什么？大家都用 函数式组件来写，状态的话由hook来管理")]),e._v(" "),o("p",[e._v("为什么？写起来简单，不用写不必要的生命周期")]),e._v(" "),o("p",[e._v("组件渲染：")]),e._v(" "),o("p",[e._v("constructor-componentWillMount-render-componentDidMount")]),e._v(" "),o("p",[e._v("组件卸载：")]),e._v(" "),o("p",[e._v("componentDidUnmount")]),e._v(" "),o("p",[e._v("调用this.setState")]),e._v(" "),o("p",[e._v("shouldComponentUpdate-componentWillUpdate-render-componentDidUpdate")]),e._v(" "),o("p",[e._v("props变化")]),e._v(" "),o("p",[e._v("componentWillReceiveProps-shouldComponentUpdate-componentWillUpdate-render-componentDidUpdate(比调用this.setState多了componentWillReceiveProps)")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://i.loli.net/2021/06/03/ZpyL2VFdatu7rc1.png",alt:"image-20210429143319567"}})]),e._v(" "),o("p",[e._v("我对 React v16.4 生命周期的理解")]),e._v(" "),o("p",[e._v("https://juejin.cn/post/6844903655372488712")]),e._v(" "),o("p",[e._v("生命周期")]),e._v(" "),o("p",[e._v("https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/")]),e._v(" "),o("p",[e._v("这些场景，我们同样需要在React Hook中予以解决。React为"),o("code",[e._v("Class component")]),e._v("设计了一大堆生命周期函数：")]),e._v(" "),o("ul",[o("li",[e._v("在实际的项目开发中用的比较频繁的，譬如渲染后期的："),o("code",[e._v("componentDidMount")]),e._v("、"),o("code",[e._v("componentDidUpdate")]),e._v("、"),o("code",[e._v("componentWillUnmount")]),e._v("；")]),e._v(" "),o("li",[e._v("很少被使用的渲染前期钩子"),o("code",[e._v("componentWillMount")]),e._v("、"),o("code",[e._v("componentWillUpdate")]),e._v("；")]),e._v(" "),o("li",[e._v("一直以来被滥用且有争议的"),o("code",[e._v("componentWillReceiveProps")]),e._v("和最新的"),o("code",[e._v("getDerivedStateFromProps")]),e._v("；")]),e._v(" "),o("li",[e._v("用于性能优化的"),o("code",[e._v("shouldComponentUpdate")]),e._v("；")])]),e._v(" "),o("p",[e._v("React 16.3版本已经明确了将在17版本中废弃"),o("code",[e._v("componentWillMount")]),e._v("、"),o("code",[e._v("componentWillUpdate")]),e._v("和"),o("code",[e._v("componentWillReceiveProps")]),e._v("这三个生命周期函数。设计用来取代"),o("code",[e._v("componentWillReceiveProps")]),e._v("的"),o("code",[e._v("getDerivedStateFromProps")]),e._v("也并不被推荐使用")])])}),[],!1,null,null,null);t.default=_.exports}}]);